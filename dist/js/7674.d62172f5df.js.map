{"version":3,"sources":["webpack://react-custmoer-webpack/./node_modules/rc-motion/es/hooks/useStepQueue.js","webpack://react-custmoer-webpack/./node_modules/rc-motion/es/index.js","webpack://react-custmoer-webpack/./node_modules/rc-motion/es/interface.js"],"names":["STEP_QUEUE","SkipStep","DoStep","isActive","step","status","callback","_React$useState","_React$useState2","setStep","_useNextFrame","_useNextFrame2","nextFrame","cancelNextFrame","index","indexOf","nextStep","result","info","doNext","isCanceled","Promise","resolve","then","STATUS_NONE","STATUS_APPEAR","STATUS_ENTER","STATUS_LEAVE","STEP_NONE","STEP_PREPARE","STEP_START","STEP_ACTIVE","STEP_ACTIVATED"],"mappings":"iOAKIA,EAAa,CAAC,KAAc,KAAY,KAAa,MAG9CC,GAAW,EAGXC,GAAS,EACb,SAASC,EAASC,GACvB,OAAOA,IAAS,MAAeA,IAAS,KAE1C,iBAA0BC,EAAQC,GAChC,IAAIC,EAAkB,WAAe,MACjCC,GAAmB,OAAeD,EAAiB,GACnDH,EAAOI,EAAiB,GACxBC,EAAUD,EAAiB,GAE3BE,GAAgB,SAChBC,GAAiB,OAAeD,EAAe,GAC/CE,EAAYD,EAAe,GAC3BE,EAAkBF,EAAe,GAuCrC,OAjCA,QAA0B,WACxB,GAAIP,IAAS,MAAaA,IAAS,KAAgB,CACjD,IAAIU,EAAQd,EAAWe,QAAQX,GAC3BY,EAAWhB,EAAWc,EAAQ,GAC9BG,EAASX,EAASF,GAElBa,IAAWhB,EAEbQ,EAAQO,GAGRJ,GAAU,SAAUM,GAClB,SAASC,IAEHD,EAAKE,cACTX,EAAQO,IAGK,IAAXC,EACFE,IAGAE,QAAQC,QAAQL,GAAQM,KAAKJ,SAKpC,CAACd,EAAQD,IACZ,aAAgB,WACd,OAAO,WACLS,OAED,IACI,CArCP,WACEJ,EAAQ,OAoCUL,K,mEC5DtB,QAAe,EAAS,G,sHCHjB,IAAIoB,EAAc,OACdC,EAAgB,SAChBC,EAAe,QACfC,EAAe,QACfC,EAAY,OACZC,EAAe,UACfC,EAAa,QACbC,EAAc,SACdC,EAAiB","file":"js/7674.d62172f5df.js","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { STEP_PREPARE, STEP_ACTIVE, STEP_START, STEP_ACTIVATED, STEP_NONE } from '../interface';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport useNextFrame from './useNextFrame';\nvar STEP_QUEUE = [STEP_PREPARE, STEP_START, STEP_ACTIVE, STEP_ACTIVATED];\n/** Skip current step */\n\nexport var SkipStep = false;\n/** Current step should be update in */\n\nexport var DoStep = true;\nexport function isActive(step) {\n  return step === STEP_ACTIVE || step === STEP_ACTIVATED;\n}\nexport default (function (status, callback) {\n  var _React$useState = React.useState(STEP_NONE),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      step = _React$useState2[0],\n      setStep = _React$useState2[1];\n\n  var _useNextFrame = useNextFrame(),\n      _useNextFrame2 = _slicedToArray(_useNextFrame, 2),\n      nextFrame = _useNextFrame2[0],\n      cancelNextFrame = _useNextFrame2[1];\n\n  function startQueue() {\n    setStep(STEP_PREPARE);\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (step !== STEP_NONE && step !== STEP_ACTIVATED) {\n      var index = STEP_QUEUE.indexOf(step);\n      var nextStep = STEP_QUEUE[index + 1];\n      var result = callback(step);\n\n      if (result === SkipStep) {\n        // Skip when no needed\n        setStep(nextStep);\n      } else {\n        // Do as frame for step update\n        nextFrame(function (info) {\n          function doNext() {\n            // Skip since current queue is ood\n            if (info.isCanceled()) return;\n            setStep(nextStep);\n          }\n\n          if (result === true) {\n            doNext();\n          } else {\n            // Only promise should be async\n            Promise.resolve(result).then(doNext);\n          }\n        });\n      }\n    }\n  }, [status, step]);\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [startQueue, step];\n});","import CSSMotion from './CSSMotion';\nimport CSSMotionList from './CSSMotionList';\nexport { CSSMotionList };\nexport default CSSMotion;","export var STATUS_NONE = 'none';\nexport var STATUS_APPEAR = 'appear';\nexport var STATUS_ENTER = 'enter';\nexport var STATUS_LEAVE = 'leave';\nexport var STEP_NONE = 'none';\nexport var STEP_PREPARE = 'prepare';\nexport var STEP_START = 'start';\nexport var STEP_ACTIVE = 'active';\nexport var STEP_ACTIVATED = 'end';"],"sourceRoot":""}