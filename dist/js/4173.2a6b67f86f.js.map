{"version":3,"sources":["webpack://react-custmoer-webpack/./node_modules/rc-motion/es/CSSMotionList.js"],"names":["MOTION_PROP_NAMES","transitionSupport","CSSMotion","arguments","length","undefined","CSSMotionList","_React$Component","_super","_this","this","apply","state","keyEntities","removeKey","setState","_ref","map","entity","key","status","value","_this2","_this$props","props","component","children","_onVisibleChanged","onVisibleChanged","restProps","Component","motionProps","forEach","prop","keys","_ref2","eventProps","visible","changedVisible","_ref3","_ref4","parsedKeyObjects","filter","prevEntity","find","_ref5","defaultProps"],"mappings":"iPAaIA,EAAoB,CAAC,aAAc,UAAW,WAAY,aAAc,eAAgB,cAAe,cAAe,yBAA0B,iBAAkB,gBAAiB,kBAAmB,gBAAiB,iBAAkB,cAAe,eAAgB,gBAAiB,aAAc,eAAgB,gBAAiB,eAOrU,SAA0BC,GAC/B,IAAIC,EAAYC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,IAEhFG,EAA6B,SAAUC,IACzC,OAAUD,EAAeC,GAEzB,IAAIC,GAAS,OAAaF,GAE1B,SAASA,IACP,IAAIG,EAuBJ,OArBA,OAAgBC,KAAMJ,IAEtBG,EAAQD,EAAOG,MAAMD,KAAMP,YACrBS,MAAQ,CACZC,YAAa,IAGfJ,EAAMK,UAAY,SAAUA,GAC1BL,EAAMM,UAAS,SAAUC,GAEvB,MAAO,CACLH,YAFgBG,EAAKH,YAEII,KAAI,SAAUC,GACrC,OAAIA,EAAOC,MAAQL,EAAkBI,GAC9B,QAAc,OAAc,GAAIA,GAAS,GAAI,CAClDE,OAAQ,eAOXX,EAoET,OAjEA,OAAaH,EAAe,CAAC,CAC3Ba,IAAK,SACLE,MAAO,WACL,IAAIC,EAASZ,KAETG,EAAcH,KAAKE,MAAMC,YAEzBU,EAAcb,KAAKc,MACnBC,EAAYF,EAAYE,UACxBC,EAAWH,EAAYG,SACvBC,EAAoBJ,EAAYK,iBAChCC,GAAY,OAAyBN,EAAa,CAAC,YAAa,WAAY,qBAE5EO,EAAYL,GAAa,WACzBM,EAAc,GAMlB,OALA/B,EAAkBgC,SAAQ,SAAUC,GAClCF,EAAYE,GAAQJ,EAAUI,UACvBJ,EAAUI,aAEZJ,EAAUK,KACG,gBAAoBJ,EAAWD,EAAWhB,EAAYI,KAAI,SAAUkB,GACtF,IAAIf,EAASe,EAAMf,OACfgB,GAAa,OAAyBD,EAAO,CAAC,WAE9CE,EAAUjB,IAAW,MAAcA,IAAW,KAClD,OAAoB,gBAAoBlB,GAAW,OAAS,GAAI6B,EAAa,CAC3EZ,IAAKiB,EAAWjB,IAChBkB,QAASA,EACTD,WAAYA,EACZR,iBAAkB,SAA0BU,GAC1CX,SAAsEA,EAAkBW,EAAgB,CACtGnB,IAAKiB,EAAWjB,MAGbmB,GACHhB,EAAOR,UAAUsB,EAAWjB,QAG9BO,UAGN,CAAC,CACHP,IAAK,2BACLE,MAAO,SAAkCkB,EAAOC,GAC9C,IAAIN,EAAOK,EAAML,KACbrB,EAAc2B,EAAM3B,YACpB4B,GAAmB,QAAUP,GAEjC,MAAO,CACLrB,aAFqB,QAASA,EAAa4B,GAEbC,QAAO,SAAUxB,GAC7C,IAAIyB,EAAa9B,EAAY+B,MAAK,SAAUC,GAC1C,IAAI1B,EAAM0B,EAAM1B,IAChB,OAAOD,EAAOC,MAAQA,KAGxB,OAAIwB,GAAcA,EAAWvB,SAAW,MAAkBF,EAAOE,SAAW,aAU7Ed,EAjGwB,CAkG/B,aAEFA,EAAcwC,aAAe,CAC3BrB,UAAW,OAIf,CAAgC","file":"js/4173.2a6b67f86f.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\n/* eslint react/prop-types: 0 */\nimport * as React from 'react';\nimport OriginCSSMotion from './CSSMotion';\nimport { supportTransition } from './util/motion';\nimport { STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED, diffKeys, parseKeys } from './util/diff';\nvar MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\n/**\n * Generate a CSSMotionList component with config\n * @param transitionSupport No need since CSSMotionList no longer depends on transition support\n * @param CSSMotion CSSMotion component\n */\n\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n\n  var CSSMotionList = /*#__PURE__*/function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n\n    var _super = _createSuper(CSSMotionList);\n\n    function CSSMotionList() {\n      var _this;\n\n      _classCallCheck(this, CSSMotionList);\n\n      _this = _super.apply(this, arguments);\n      _this.state = {\n        keyEntities: []\n      };\n\n      _this.removeKey = function (removeKey) {\n        _this.setState(function (_ref) {\n          var keyEntities = _ref.keyEntities;\n          return {\n            keyEntities: keyEntities.map(function (entity) {\n              if (entity.key !== removeKey) return entity;\n              return _objectSpread(_objectSpread({}, entity), {}, {\n                status: STATUS_REMOVED\n              });\n            })\n          };\n        });\n      };\n\n      return _this;\n    }\n\n    _createClass(CSSMotionList, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var keyEntities = this.state.keyEntities;\n\n        var _this$props = this.props,\n            component = _this$props.component,\n            children = _this$props.children,\n            _onVisibleChanged = _this$props.onVisibleChanged,\n            restProps = _objectWithoutProperties(_this$props, [\"component\", \"children\", \"onVisibleChanged\"]);\n\n        var Component = component || React.Fragment;\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n        return /*#__PURE__*/React.createElement(Component, restProps, keyEntities.map(function (_ref2) {\n          var status = _ref2.status,\n              eventProps = _objectWithoutProperties(_ref2, [\"status\"]);\n\n          var visible = status === STATUS_ADD || status === STATUS_KEEP;\n          return /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motionProps, {\n            key: eventProps.key,\n            visible: visible,\n            eventProps: eventProps,\n            onVisibleChanged: function onVisibleChanged(changedVisible) {\n              _onVisibleChanged === null || _onVisibleChanged === void 0 ? void 0 : _onVisibleChanged(changedVisible, {\n                key: eventProps.key\n              });\n\n              if (!changedVisible) {\n                _this2.removeKey(eventProps.key);\n              }\n            }\n          }), children);\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(_ref3, _ref4) {\n        var keys = _ref3.keys;\n        var keyEntities = _ref4.keyEntities;\n        var parsedKeyObjects = parseKeys(keys);\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            var prevEntity = keyEntities.find(function (_ref5) {\n              var key = _ref5.key;\n              return entity.key === key;\n            }); // Remove if already mark as removed\n\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n\n            return true;\n          })\n        };\n      }\n    }]);\n\n    return CSSMotionList;\n  }(React.Component);\n\n  CSSMotionList.defaultProps = {\n    component: 'div'\n  };\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);"],"sourceRoot":""}